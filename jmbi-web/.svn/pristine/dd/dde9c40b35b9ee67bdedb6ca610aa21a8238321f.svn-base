webpackJsonp([17],{634:function(t,e,a){a(764);var n=a(80)(a(705),a(796),null,null);t.exports=n.exports},636:function(t,e,a){"use strict";function n(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t),a=e.getDay(),n=e.getDate(),r=n-a;return e.setDate(r),e}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t),a=e.getDay(),n=e.getDate(),r=6-a,i=n+r;return e.setDate(i),e}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t);return e.setDate(1),e}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t),a=e.getMonth(),n=a+1;return e.setMonth(n,0),e}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t),a=e.getMonth();return a>=0&&a<=2&&e.setMonth(0,1),a>=3&&a<=5&&e.setMonth(3,1),a>=6&&a<=8&&e.setMonth(6,1),a>=9&&a<=11&&e.setMonth(9,1),e}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t),a=e.getMonth();return a>=0&&a<=2&&e.setMonth(3,0),a>=3&&a<=5&&e.setMonth(6,0),a>=6&&a<=8&&e.setMonth(9,0),a>=9&&a<=11&&e.setMonth(12,0),e}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t);return e.setMonth(0,1),e}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t);return e.setMonth(12,0),e}function g(t){var e=t.match(/\d+/g),a=+e[0],n=+e[1],r=new Date(a,0,1),i=h(n),o=r.getTime()+i,s=r.setTime(o);return new Date(s)}function h(t){return 6048e5*(t-1)}function m(t){if(8!==t.length)return new Date;var e=+t.substring(0,4),a=Number(t.substring(4,6))-1,n=+t.substring(6,8);return new Date(e,a,n)}function p(t,e){return Math.round((e-t)/864e5)}function f(t){return 8!==t.length?new Date:+t.substring(0,4)+"年"+Number(t.substring(4,6))+"月"+ +t.substring(6,8)+"日"}String.prototype.padStart||(String.prototype.padStart=function(t,e){return t>>=0,e=String(e||" "),this.length>t?String(this):(t-=this.length,t>e.length&&(e+=e.repeat(t/e.length)),e.slice(0,t)+String(this))}),Date.prototype.format=function(){return""+this.getFullYear()+(this.getMonth()+1).toString().padStart(2,"0")+this.getDate().toString().padStart(2,"0")},e.a={firstDayOfWeek:r,lastDayOfWeek:i,firstDayOfMonth:o,lastDayOfMonth:s,firstDayOfQuarter:l,lastDayOfQuarter:u,firstDayOfYear:d,lastDayOfYear:c,getDayByWeek:g,numberWithCommas:n,parseDate:m,formatDate:f,daydiff:p}},637:function(t,e,a){"use strict";function n(t,e){i=e+1;var a=new Date,n=new Date;n.setTime(n.getTime()-864e5*e),t.$emit("pick",[n,a])}Object.defineProperty(e,"__esModule",{value:!0});var r=a(636),i=1;e.default={name:"rangeDatePicker",created:function(){var t=new Date;t.setTime(t.getTime()-0),this.global_time_filter_value[0]=t,i=1,this.loadDatePeriodByQuery()},data:function(){return{latest1Days:"primary",latest15Days:"",latest30Days:"",global_time_filter_value:[new Date,new Date],globalPickerOptions:{shortcuts:[{text:"今日",onClick:function(t){n(t,0)}},{text:"最近15天",onClick:function(t){n(t,14)}},{text:"最近30天",onClick:function(t){n(t,29)}}]}}},methods:{dateChanged:function(){var t=i;this.updateFilterButtonState(t);var e=this.global_time_filter_value[0].format(),a=this.global_time_filter_value[1].format();this.$router.push({path:this.$router.path,query:{startDate:e,endDate:a}}),this.$emit("selectedRangeDate",{startDate:e,endDate:a}),i=-1},selectDatePeriod:function(t){i=t;var e=new Date,a=new Date;a.setTime(a.getTime()-864e5*(t-1)),this.global_time_filter_value=[a,e],this.updateFilterButtonState(i)},loadDatePeriodByQuery:function(){var t=this.$route.query;if(t.startDate&&t.endDate){var e=t.startDate,a=t.endDate;e=r.a.parseDate(e),a=r.a.parseDate(a);var n=r.a.daydiff(e,a);a.format()===(new Date).format()?0===n?n=1:14===n?n=15:29===n&&(n=30):n=-1,i=-1,this.updateFilterButtonState(n),this.global_time_filter_value=[e,a]}},updateFilterButtonState:function(t){switch(t){case 1:this.latest1Days="primary",this.latest15Days="",this.latest30Days="";break;case 15:this.latest1Days="",this.latest15Days="primary",this.latest30Days="";break;case 30:this.latest1Days="",this.latest15Days="",this.latest30Days="primary";break;default:this.latest1Days="",this.latest15Days="",this.latest30Days=""}}},mounted:function(){function t(){document.body.scrollTop>113?(e.style.position="fixed",e.style.top="40px",e.style.left="192px",e.style.right="20px",e.style.zIndex=4e4):(e.style.position="static",e.style.top="",e.style.left="",e.style.right="")}window.addEventListener("resize",t,!1),window.addEventListener("scroll",t,!1);var e=document.querySelector(".primary-timer-filter")}}},638:function(t,e,a){e=t.exports=a(609)(),e.push([t.i,".primary-timer-filter .el-button{padding-top:8px;padding-bottom:8px}","",{version:3,sources:["F:/Developer/2016/big-data/jmdata/code/jmbi/trunk/jmbi-web/src/main/webapp/app-trade-bi/src/components/RangeDatePicker.vue"],names:[],mappings:"AACA,iCACE,gBAAiB,AACjB,kBAAoB,CACrB",file:"RangeDatePicker.vue",sourcesContent:["\n.primary-timer-filter .el-button {\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\n"],sourceRoot:""}])},639:function(t,e,a){var n=a(638);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(610)("7ea804fb",n,!0)},640:function(t,e,a){a(639);var n=a(80)(a(637),a(641),null,null);t.exports=n.exports},641:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"jm-grid-box-border-radius jm-grid-box-bg-white jm-grid-border-1px jm-padding-15X20 jm-margin-top20 jm-margin-bottom20 primary-timer-filter"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("span",[t._v("时间段选择：")]),t._v(" "),a("el-button",{attrs:{type:t.latest1Days},on:{click:function(e){t.selectDatePeriod(1)}}},[t._v("今日")]),t._v(" "),a("el-button",{attrs:{type:t.latest15Days},on:{click:function(e){t.selectDatePeriod(15)}}},[t._v("最近15天")]),t._v(" "),a("el-button",{attrs:{type:t.latest30Days},on:{click:function(e){t.selectDatePeriod(30)}}},[t._v("最近30天")])],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content clearfix"},[a("el-date-picker",{staticClass:"right",attrs:{editable:!1,clearable:!1,type:"daterange","picker-options":t.globalPickerOptions,placeholder:"选择时间范围",align:"right"},on:{change:t.dateChanged},model:{value:t.global_time_filter_value,callback:function(e){t.global_time_filter_value=e},expression:"global_time_filter_value"}})],1)])],1)},staticRenderFns:[]}},642:function(t,e,a){t.exports={default:a(644),__esModule:!0}},643:function(t,e,a){"use strict";e.__esModule=!0;var n=a(642),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,r.default)(t)}},644:function(t,e,a){a(264),a(646),t.exports=a(49).Array.from},645:function(t,e,a){"use strict";var n=a(59),r=a(125);t.exports=function(t,e,a){e in t?n.f(t,e,r(0,a)):t[e]=a}},646:function(t,e,a){"use strict";var n=a(60),r=a(124),i=a(259),o=a(261),s=a(260),l=a(126),u=a(645),d=a(263);r(r.S+r.F*!a(262)(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,r,c,g=i(t),h="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,f=void 0!==p,D=0,v=d(g);if(f&&(p=n(p,m>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(e=l(g.length),a=new h(e);e>D;D++)u(a,D,f?p(g[D],D):g[D]);else for(c=v.call(g),a=new h;!(r=c.next()).done;D++)u(a,D,f?o(c,p,[r.value,D],!0):r.value);return a.length=D,a}})},705:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(643),r=a.n(n),i=a(123),o=(a(636),a(640)),s=a.n(o),l=a(81);a.n(l);e.default={name:"loginAnalysis",components:{rangeDatePicker:s.a},created:function(){var t=this.$route.query;t.startDate&&t.endDate&&(this.startDate=t.startDate,this.endDate=t.endDate)},methods:{getRangeDate:function(t){var e=t.startDate,a=t.endDate;this.startDate=e,this.endDate=a,this.loadAllData()},loadAllData:function(){var t=this,e=t.$platformId,n=t.startDate,r=t.endDate;t.loadinguserLoginLineChart=!0,a.i(i.userTraceLogin)({platform:e,startDate:n,endDate:r}).then(function(e){t.loadinguserLoginLineChart=!1;var a=e.data;t.loaduserLoginLineChart(a)}).catch(function(t){console.log(t)}),t.loadinguserLoginPieChart=!0,t.loadinguserLoginPieChartText="加载中...",a.i(i.userTraceBrowser)({platform:e,startDate:n,endDate:r}).then(function(e){t.loadinguserLoginPieChart=!1;var a=e.data;0===a.pieChart.seriesData.length&&(t.loadinguserLoginPieChart=!0,t.loadinguserLoginPieChartText="暂无数据"),t.loaduserLoginPieChart(a)}).catch(function(t){console.log(t)}),t.loadingYmllpmChart=!0,t.loadingYmtclpmChart=!0,t.loadingYmllpmChartText="加载中...",t.loadingYmtclpmChartText="加载中...",a.i(i.pageVisit)({platform:e,startDate:n,endDate:r}).then(function(e){t.loadingYmllpmChart=!1,t.loadingYmtclpmChart=!1;var a=e.data;0===a.pvChart.seriesData.length&&(t.loadingYmllpmChart=!0,t.loadingYmllpmChartText="暂无数据"),0===a.existCountChart.seriesData.length&&(t.loadingYmtclpmChart=!0,t.loadingYmtclpmChartText="暂无数据")}).catch(function(t){console.log(t)})},loaduserLoginLineChart:function(t){var e=this,a=t.lineChart,n={type:"value"},i=Math.max.apply(Math,r()(a.seriesData[0]));i<5&&(n.splitNumber=i||1,n.minInterval=1);var o={color:["#1790cf"],tooltip:{trigger:"axis"},calculable:!0,grid:{left:"3%",right:"4%",bottom:"5%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:a.xAxisData}],yAxis:n,series:[{name:"用户登录情况",type:"line",smooth:!0,data:a.seriesData[0],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]};e.$initChart(e,"userLoginLineChart",o)},loaduserLoginPieChart:function(t){var e=this,a=t.pieChart,n={color:["#1c7099","#1790cf","#1bb2d8","#99d2dd","#88b0bb","#22b1e6","#4598ff"],title:{left:"center",bottom:"5%",textStyle:{color:"#666",fontWeight:"normal",fontSize:14}},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{top:"5%",data:a.legendData},series:[{type:"pie",radius:"55%",center:["50%","55%"],data:a.seriesData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.$initChart(e,"userLoginPieChart",n)}},mounted:function(){function t(){a&&clearTimeout(a),a=setTimeout(function(){e.userLoginLineChart&&e.userLoginLineChart.resize(),e.userLoginPieChart&&e.userLoginPieChart.resize()},100)}var e=this;e.loadAllData(),window.addEventListener("resize",t,!1);var a},data:function(){return{startDate:(new Date).format(),endDate:(new Date).format(),loadinguserLoginLineChart:!1,loadinguserLoginPieChart:!1,loadinguserLoginPieChartText:"加载中...",loadingYmllpmChart:!1,loadingYmtclpmChart:!1,loadingYmllpmChartText:"加载中...",loadingYmtclpmChartText:"加载中..."}}}},731:function(t,e,a){e=t.exports=a(609)(),e.push([t.i,".login-analysis-page{padding-bottom:30px}","",{version:3,sources:["F:/Developer/2016/big-data/jmdata/code/jmbi/trunk/jmbi-web/src/main/webapp/app-trade-bi/src/views/ZZTrade/loginAnalysis.vue"],names:[],mappings:"AACA,qBACE,mBAAqB,CACtB",file:"loginAnalysis.vue",sourcesContent:["\n.login-analysis-page {\n  padding-bottom: 30px;\n}\n"],sourceRoot:""}])},764:function(t,e,a){var n=a(731);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(610)("54c7e742",n,!0)},796:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-analysis-page"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("span",{staticClass:"el-breadcrumb__item"},[a("span",[t._v("我的位置：")])]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(t._s(t.$platformName))]),t._v(" "),a("el-breadcrumb-item",[t._v("用户行为")]),t._v(" "),a("el-breadcrumb-item",[t._v("登录分析")])],1),t._v(" "),a("range-date-picker",{on:{selectedRangeDate:t.getRangeDate}}),t._v(" "),a("el-row",{staticClass:"jm-grid-border-1px"},[a("header",{staticClass:"panel-header jm-grid-box-bg-white jm-grid-border-bottom-1px"},[t._v("用户登录情况\n  \n      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:16}},[a("div",{staticClass:"grid-content jm-grid-box-bg-white"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadinguserLoginLineChart,expression:"loadinguserLoginLineChart"}],staticClass:"box chart row-group-last",attrs:{"element-loading-text":"加载中..."}},[a("div",{ref:"userLoginLineChart",staticClass:"content"})])])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8}},[a("div",{staticClass:"grid-content jm-grid-box-bg-white"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadinguserLoginPieChart,expression:"loadinguserLoginPieChart"}],staticClass:"box  chart row-group-last",class:{"no-data":"暂无数据"===t.loadinguserLoginPieChartText},attrs:{"element-loading-text":t.loadinguserLoginPieChartText}},[a("div",{ref:"userLoginPieChart",staticClass:"content"})])])])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=17.2ca1381b80224a6599eb.js.map