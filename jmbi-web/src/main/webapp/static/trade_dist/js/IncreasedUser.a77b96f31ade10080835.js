webpackJsonp([21],{616:function(e,t,a){a(760);var r=a(80)(a(687),a(792),null,null);e.exports=r.exports},636:function(e,t,a){"use strict";function r(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),a=t.getDay(),r=t.getDate(),n=r-a;return t.setDate(n),t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),a=t.getDay(),r=t.getDate(),n=6-a,i=r+n;return t.setDate(i),t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e);return t.setDate(1),t}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),a=t.getMonth(),r=a+1;return t.setMonth(r,0),t}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),a=t.getMonth();return a>=0&&a<=2&&t.setMonth(0,1),a>=3&&a<=5&&t.setMonth(3,1),a>=6&&a<=8&&t.setMonth(6,1),a>=9&&a<=11&&t.setMonth(9,1),t}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),a=t.getMonth();return a>=0&&a<=2&&t.setMonth(3,0),a>=3&&a<=5&&t.setMonth(6,0),a>=6&&a<=8&&t.setMonth(9,0),a>=9&&a<=11&&t.setMonth(12,0),t}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e);return t.setMonth(0,1),t}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e);return t.setMonth(12,0),t}function u(e){var t=e.match(/\d+/g),a=+t[0],r=+t[1],n=new Date(a,0,1),i=h(r),s=n.getTime()+i,o=n.setTime(s);return new Date(o)}function h(e){return 6048e5*(e-1)}function p(e){if(8!==e.length)return new Date;var t=+e.substring(0,4),a=Number(e.substring(4,6))-1,r=+e.substring(6,8);return new Date(t,a,r)}function f(e,t){return Math.round((t-e)/864e5)}function m(e){return 8!==e.length?new Date:+e.substring(0,4)+"年"+Number(e.substring(4,6))+"月"+ +e.substring(6,8)+"日"}String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):(e-=this.length,e>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),Date.prototype.format=function(){return""+this.getFullYear()+(this.getMonth()+1).toString().padStart(2,"0")+this.getDate().toString().padStart(2,"0")},t.a={firstDayOfWeek:n,lastDayOfWeek:i,firstDayOfMonth:s,lastDayOfMonth:o,firstDayOfQuarter:l,lastDayOfQuarter:d,firstDayOfYear:c,lastDayOfYear:g,getDayByWeek:u,numberWithCommas:r,parseDate:p,formatDate:m,daydiff:f}},637:function(e,t,a){"use strict";function r(e,t){i=t+1;var a=new Date,r=new Date;r.setTime(r.getTime()-864e5*t),e.$emit("pick",[r,a])}Object.defineProperty(t,"__esModule",{value:!0});var n=a(636),i=1;t.default={name:"rangeDatePicker",created:function(){var e=new Date;e.setTime(e.getTime()-0),this.global_time_filter_value[0]=e,i=1,this.loadDatePeriodByQuery()},data:function(){return{latest1Days:"primary",latest15Days:"",latest30Days:"",global_time_filter_value:[new Date,new Date],globalPickerOptions:{shortcuts:[{text:"今日",onClick:function(e){r(e,0)}},{text:"最近15天",onClick:function(e){r(e,14)}},{text:"最近30天",onClick:function(e){r(e,29)}}]}}},methods:{dateChanged:function(){var e=i;this.updateFilterButtonState(e);var t=this.global_time_filter_value[0].format(),a=this.global_time_filter_value[1].format();this.$router.push({path:this.$router.path,query:{startDate:t,endDate:a}}),this.$emit("selectedRangeDate",{startDate:t,endDate:a}),i=-1},selectDatePeriod:function(e){i=e;var t=new Date,a=new Date;a.setTime(a.getTime()-864e5*(e-1)),this.global_time_filter_value=[a,t],this.updateFilterButtonState(i)},loadDatePeriodByQuery:function(){var e=this.$route.query;if(e.startDate&&e.endDate){var t=e.startDate,a=e.endDate;t=n.a.parseDate(t),a=n.a.parseDate(a);var r=n.a.daydiff(t,a);a.format()===(new Date).format()?0===r?r=1:14===r?r=15:29===r&&(r=30):r=-1,i=-1,this.updateFilterButtonState(r),this.global_time_filter_value=[t,a]}},updateFilterButtonState:function(e){switch(e){case 1:this.latest1Days="primary",this.latest15Days="",this.latest30Days="";break;case 15:this.latest1Days="",this.latest15Days="primary",this.latest30Days="";break;case 30:this.latest1Days="",this.latest15Days="",this.latest30Days="primary";break;default:this.latest1Days="",this.latest15Days="",this.latest30Days=""}}},mounted:function(){function e(){document.body.scrollTop>113?(t.style.position="fixed",t.style.top="40px",t.style.left="192px",t.style.right="20px",t.style.zIndex=4e4):(t.style.position="static",t.style.top="",t.style.left="",t.style.right="")}window.addEventListener("resize",e,!1),window.addEventListener("scroll",e,!1);var t=document.querySelector(".primary-timer-filter")}}},638:function(e,t,a){t=e.exports=a(609)(),t.push([e.i,".primary-timer-filter .el-button{padding-top:8px;padding-bottom:8px}","",{version:3,sources:["F:/Developer/2016/big-data/jmdata/code/jmbi/trunk/jmbi-web/src/main/webapp/app-trade-bi/src/components/RangeDatePicker.vue"],names:[],mappings:"AACA,iCACE,gBAAiB,AACjB,kBAAoB,CACrB",file:"RangeDatePicker.vue",sourcesContent:["\n.primary-timer-filter .el-button {\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\n"],sourceRoot:""}])},639:function(e,t,a){var r=a(638);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(610)("7ea804fb",r,!0)},640:function(e,t,a){a(639);var r=a(80)(a(637),a(641),null,null);e.exports=r.exports},641:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"jm-grid-box-border-radius jm-grid-box-bg-white jm-grid-border-1px jm-padding-15X20 jm-margin-top20 jm-margin-bottom20 primary-timer-filter"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("span",[e._v("时间段选择：")]),e._v(" "),a("el-button",{attrs:{type:e.latest1Days},on:{click:function(t){e.selectDatePeriod(1)}}},[e._v("今日")]),e._v(" "),a("el-button",{attrs:{type:e.latest15Days},on:{click:function(t){e.selectDatePeriod(15)}}},[e._v("最近15天")]),e._v(" "),a("el-button",{attrs:{type:e.latest30Days},on:{click:function(t){e.selectDatePeriod(30)}}},[e._v("最近30天")])],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content clearfix"},[a("el-date-picker",{staticClass:"right",attrs:{editable:!1,clearable:!1,type:"daterange","picker-options":e.globalPickerOptions,placeholder:"选择时间范围",align:"right"},on:{change:e.dateChanged},model:{value:e.global_time_filter_value,callback:function(t){e.global_time_filter_value=t},expression:"global_time_filter_value"}})],1)])],1)},staticRenderFns:[]}},642:function(e,t,a){e.exports={default:a(644),__esModule:!0}},643:function(e,t,a){"use strict";t.__esModule=!0;var r=a(642),n=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,n.default)(e)}},644:function(e,t,a){a(264),a(646),e.exports=a(49).Array.from},645:function(e,t,a){"use strict";var r=a(59),n=a(125);e.exports=function(e,t,a){t in e?r.f(e,t,n(0,a)):e[t]=a}},646:function(e,t,a){"use strict";var r=a(60),n=a(124),i=a(259),s=a(261),o=a(260),l=a(126),d=a(645),c=a(263);n(n.S+n.F*!a(262)(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,n,g,u=i(e),h="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,m=void 0!==f,v=0,D=c(u);if(m&&(f=r(f,p>2?arguments[2]:void 0,2)),void 0==D||h==Array&&o(D))for(t=l(u.length),a=new h(t);t>v;v++)d(a,v,m?f(u[v],v):u[v]);else for(g=D.call(u),a=new h;!(n=g.next()).done;v++)d(a,v,m?s(g,f,[n.value,v],!0):n.value);return a.length=v,a}})},687:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(643),n=a.n(r),i=a(123),s=(a(636),a(640)),o=a.n(s),l=a(81),d=a.n(l),c=a(265);a.n(c);t.default={name:"increasedUser",components:{rangeDatePicker:o.a},created:function(){var e=this.$route.query;e.startDate&&e.endDate&&(this.startDate=e.startDate,this.endDate=e.endDate)},methods:{handleSizeChange:function(e){this.pageSize=e,console.log("每页 "+e+" 条"),this.getTableList()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.getTableList()},getTableList:function(){var e=this,t=e.$platformId,r=e.startDate,n=e.endDate,s=this.pageSize,o=s*(this.currentPage-1);e.loadingTableData=!0,a.i(i.newlyIncreasedTableList)({platform:t,startDate:r,endDate:n,limit:s,offset:o}).then(function(t){e.loadingTableData=!1;var a=t.data;e.tableData=a,e.totalCount=a.totalSize}).catch(function(e){console.log(e)})},getRangeDate:function(e){var t=e.startDate,a=e.endDate;this.startDate=t,this.endDate=a,this.loadAllData()},loadAllData:function(){var e=this,t=e.$platformId,r=e.startDate,n=e.endDate;e.loadingNewAddedUsersLineChart=!0,e.loadingNewAddedUsersLineChartText="加载中...",a.i(i.newlyIncreased)({platform:t,startDate:r,endDate:n,dataType:"lineChart"}).then(function(t){e.loadingNewAddedUsersLineChart=!1;var a=t.data;0===a.lineChart.seriesData.length&&(e.loadingNewAddedUsersLineChart=!0,e.loadingNewAddedUsersLineChartText="暂无数据"),e.loadnewAddedUsersLineChart(a)}).catch(function(e){console.log(e)}),e.loadingNewAddedUserPieChart=!0,e.loadingNewAddedUserPieChartText="加载中...",a.i(i.newlyIncreased)({platform:t,startDate:r,endDate:n,dataType:"pieChart"}).then(function(t){e.loadingNewAddedUserPieChart=!1;var a=t.data;0===a.pieChart.seriesData.length&&(e.loadingNewAddedUserPieChart=!0,e.loadingNewAddedUserPieChartText="暂无数据"),e.loadnewAddedUserPieChart(a)}).catch(function(e){console.log(e)}),this.getTableList()},loadnewAddedUsersLineChart:function(e){var t=this,a="newAddedUsersLineChart";t[a]=d.a.init(t.$refs[a]);var r=e.lineChart,i={name:"个",type:"value",axisLine:{lineStyle:{color:"#158bca"}}},s=Math.max.apply(Math,n()(r.seriesData));s<5&&(i.splitNumber=s||1,i.minInterval=1);var o={color:["#44cd8a","#5eb2ec","#b6a4dd"],tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#158bca"}},data:r.xAxisData},yAxis:i,series:[{name:r.legendData[0],type:"line",smooth:!0,itemStyle:{normal:{color:"#44cd8a"}},data:r.seriesData}]};t[a].setOption(o)},loadnewAddedUserPieChart:function(e){var t=this;t.newAddedUserPieChart=d.a.init(t.$refs.newAddedUserPieChart);var a=e.pieChart,r={color:["#1c7099","#1790cf","#1bb2d8","#99d2dd","#88b0bb","#22b1e6","#4598ff"],title:{left:"center",top:"5%",textStyle:{color:"#666",fontWeight:"normal",fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"新增注册数",type:"pie",radius:"55%",center:["50%","50%"],data:a.seriesData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.newAddedUserPieChart.setOption(r)}},mounted:function(){function e(){a&&clearTimeout(a),a=setTimeout(function(){t.newAddedUsersLineChart&&t.newAddedUsersLineChart.resize(),t.newAddedUserPieChart&&t.newAddedUserPieChart.resize(),t.registerUserAreaMapChart&&t.registerUserAreaMapChart.resize(),t.registerUserAreaBarChart&&t.registerUserAreaBarChart.resize()},100)}var t=this;t.loadAllData(),window.addEventListener("resize",e,!1);var a},data:function(){return{startDate:(new Date).format(),endDate:(new Date).format(),loadingNewAddedUsersLineChart:!1,loadingNewAddedUsersLineChartText:"加载中...",loadingNewAddedUserPieChart:!1,loadingNewAddedUserPieChartText:"加载中...",loadingTableData:!1,loadingTODOChart:!1,currentPage:1,pageSize:10,totalCount:0,tableData:{}}}}},727:function(e,t,a){t=e.exports=a(609)(),t.push([e.i,".increate-user-page{padding-bottom:50px}.register-table-container{padding:20px}.text-right{text-align:right}.margin-right-20{margin-right:20px}.el-pagination{text-align:center;padding-top:15px}","",{version:3,sources:["F:/Developer/2016/big-data/jmdata/code/jmbi/trunk/jmbi-web/src/main/webapp/app-trade-bi/src/views/IncreasedUser.vue"],names:[],mappings:"AACA,oBACE,mBAAqB,CACtB,AACD,0BACE,YAAc,CACf,AACD,YACE,gBAAkB,CACnB,AACD,iBACE,iBAAmB,CACpB,AACD,eACE,kBAAmB,AACnB,gBAAkB,CACnB",file:"IncreasedUser.vue",sourcesContent:["\n.increate-user-page {\r\n  padding-bottom: 50px;\n}\n.register-table-container {\r\n  padding: 20px;\n}\n.text-right {\r\n  text-align: right;\n}\n.margin-right-20 {\r\n  margin-right: 20px;\n}\n.el-pagination {\r\n  text-align: center;\r\n  padding-top: 15px;\n}\r\n"],sourceRoot:""}])},760:function(e,t,a){var r=a(727);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(610)("17492c33",r,!0)},792:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"increate-user-page"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("span",{staticClass:"el-breadcrumb__item"},[a("span",[e._v("我的位置：")])]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v(e._s(e.$platformName))]),e._v(" "),a("el-breadcrumb-item",[e._v("运营情况")]),e._v(" "),a("el-breadcrumb-item",[e._v("注册分析")]),e._v(" "),a("el-breadcrumb-item",[e._v("日新增用户")])],1),e._v(" "),a("range-date-picker",{on:{selectedRangeDate:e.getRangeDate}}),e._v(" "),a("el-row",{staticClass:"jm-grid-border-1px"},[a("header",{staticClass:"panel-header jm-grid-box-bg-white jm-grid-border-bottom-1px"},[e._v("新增注册数\n    ")]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:16}},[a("div",{staticClass:"grid-content jm-grid-box-bg-white"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingNewAddedUsersLineChart,expression:"loadingNewAddedUsersLineChart"}],staticClass:"box chart row-group-last",class:{"no-data":"暂无数据"===e.loadingNewAddedUsersLineChartText},attrs:{"element-loading-text":e.loadingNewAddedUsersLineChartText}},[a("div",{ref:"newAddedUsersLineChart",staticClass:"content"})])])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8}},[a("div",{staticClass:"grid-content jm-grid-box-bg-white"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingNewAddedUserPieChart,expression:"loadingNewAddedUserPieChart"}],staticClass:"box  chart row-group-last",class:{"no-data":"暂无数据"===e.loadingNewAddedUserPieChartText},attrs:{"element-loading-text":e.loadingNewAddedUserPieChartText}},[a("div",{ref:"newAddedUserPieChart",staticClass:"content"})])])])],1),e._v(" "),a("el-row",{staticClass:"jm-grid-border-1px"},[a("header",{staticClass:"panel-header jm-grid-box-bg-white jm-grid-border-bottom-1px"},[e._v("注册明细表\n\n    ")]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("div",{staticClass:"grid-content jm-grid-box-bg-white"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTableData,expression:"loadingTableData"}],staticClass:"box ",attrs:{"element-loading-text":"加载中..."}},[a("div",{staticClass:"content"},[a("div",{staticClass:"register-table-container"},[a("div",{staticClass:"text-right"},[a("span",{staticClass:"margin-right-20"},[e._v("合计："+e._s(e.tableData.counts)+"人 ")]),e._v(" "),a("span",[e._v("占总用户："+e._s(e.tableData.percent))])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.tableData,border:""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"date",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"source",label:"来源"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"amount",label:"人数"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"rate",label:"占比"}})],1),e._v(" "),e.totalCount?a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])])])])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=IncreasedUser.a77b96f31ade10080835.js.map